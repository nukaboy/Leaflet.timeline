!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=5)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.value=t}return Object.defineProperty(t.prototype,"size",{get:function(){var t=1;return this.left&&(t+=this.left.size),this.right&&(t+=this.right.size),t},enumerable:!0,configurable:!0}),t.prototype.withParent=function(t){return this.parent=t,this},t.prototype.withoutParent=function(){return this.parent=void 0,this},t.prototype.setLeft=function(t){this.left=t.withParent(this)},t.prototype.setRight=function(t){this.right=t.withParent(this)},Object.defineProperty(t.prototype,"isLeftChild",{get:function(){return!!this.parent&&this.parent.left===this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRightChild",{get:function(){return!!this.parent&&this.parent.right===this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftmostDescendant",{get:function(){return this.left?this.left.leftmostDescendant:this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightmostDescendant",{get:function(){return this.right?this.right.rightmostDescendant:this},enumerable:!0,configurable:!0}),t.prototype.prettyPrintValue=function(){return""+this.value},t.prototype.prettyPrint=function(t){void 0===t&&(t="");var e=t.substr(0,t.length-1)+(this.parent?this.isRightChild?"â”œ":"â””":"")+"â”€â”¬â”€ "+this.prettyPrintValue()+"\n";return this.right?e+=this.right.prettyPrint(t+" â”‚"):e+=t+" â”œâ”€â”€â”€ Ã—\n",this.left?e+=this.left.prettyPrint(t+"  "):e+=t+" â””â”€â”€â”€ Ã—\n",e},t.prototype.toString=function(){return this.prettyPrint()},t}();e.BinaryTree=n},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=r(2),s=function(t){function e(e,r,n){void 0===r&&(r=function(t,e){return t<e}),void 0===n&&(n=function(t,e){return t===e});var i=t.call(this,e)||this;return i.cmp=r,i.eq=n,i}return i(e,t),e.fromArray=function(t,r,n){if(0!==t.length){for(var i=new e(t[0],r,n),o=1;o<t.length;o++)i.insert(t[o]);return i}},e.prototype.findParentAndSideFor=function(t){for(var e=this;;)if(this.cmp(t,e.value)){if(!e.left)return[e,"left"];e=e.left}else{if(!e.right)return[e,"right"];e=e.right}},e.prototype.insert=function(t){var r=o(this.findParentAndSideFor(t),2),n=r[0];return n[r[1]]=new e(t,this.cmp,this.eq).withParent(n),this},e.prototype.search=function(t){for(var e=this;e&&void 0!==e.value;){if(this.eq(e.value,t))return e;e=this.cmp(t,e.value)?e.left:e.right}},e.prototype.contains=function(t){return Boolean(this.search(t))},e.prototype.remove=function(t){var r=this.search(t);if(!r)return this;var n=null;if(r!==this||this.parent||(this.parent=new e(this.value,this.cmp,this.eq),this.parent.left=this.withParent(this.parent),n=this.parent),a.assert(void 0!==r.parent),r.left&&r.right){var i=r.right.leftmostDescendant;r.value=i.value;var o=i.parent;o[l=o.left===i?"left":"right"]=i.right,i.right&&(i.right.parent=o)}else{var s=r.parent,l=s.left===r?"left":"right";r.left?(s[l]=r.left,r.left.parent=r.parent):(s[l]=r.right,r.right&&(r.right.parent=r.parent))}return n?n.left?n.left.withoutParent():void 0:this},e.prototype.getPredecessor=function(t){return this.getNeighbor(t,!0)},e.prototype.getSuccessor=function(t){return this.getNeighbor(t,!1)},e.prototype.getNeighbor=function(t,e){var r=this.search(t);if(r){var n,i;if(e?(n="left",i="rightmostDescendant"):(n="right",i="leftmostDescendant"),r[n])return r[n][i].value;for(;r&&r.parent&&r.parent[n]===r;)r=r.parent;if(r.parent)return r.parent.value}},e}(r(0).BinaryTree);e.BinarySearchTree=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assert=function(t,e){if(!t)throw new Error(e)}},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0});var a=r(1),s=r(2),l=function(t){function e(e,r,n){void 0===r&&(r=function(t,e){return t<e}),void 0===n&&(n=function(t,e){return t===e});var i=t.call(this,e,r)||this;return i.cmp=r,i.eq=n,i.isRed=!1,i}return i(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this.isRed?"red":"black"},enumerable:!0,configurable:!0}),e.fromArray=function(t,r){if(0!==t.length){for(var n=new e(t[0],r),i=1;i<t.length;i++)n.insert(t[i]);return n}},e.prototype.prettyPrintValue=function(){return this.isRed?"[31m"+this.value+"[0m":""+this.value},e.prototype.rotateLeft=function(t){s.assert(t.right);var e=t.value,r=t.isRed,n=t.right;t.right=n.right,t.right&&(t.right.parent=t),n.right=n.left,n.left=t.left,n.left&&(n.left.parent=n),t.left=n,t.value=n.value,n.value=e,t.isRed=n.isRed,n.isRed=r},e.prototype.rotateRight=function(t){s.assert(t.left);var e=t.value,r=t.isRed,n=t.left;t.left=n.left,t.left&&(t.left.parent=t),n.left=n.right,n.right=t.right,n.right&&(n.right.parent=n),t.right=n.withParent(t),t.value=n.value,n.value=e,t.isRed=n.isRed,n.isRed=r},e.prototype.insertFixup=function(t){for(var e,r=t,n=t;(null===(e=r.parent)||void 0===e?void 0:e.parent)&&r.parent.isRed;){var i;if(r.parent.isLeftChild)(null==(i=r.parent.parent.right)?void 0:i.isRed)?(r.parent.isRed=!1,i.isRed=!1,r.parent.parent.isRed=!0,r=r.parent.parent):(r.isRightChild&&(r=r.parent,this.rotateLeft(r),r.left===n&&(n=r),r=r.left),s.assert(r.parent),s.assert(r.parent.parent),r.parent.isRed=!1,r.parent.parent.isRed=!0,this.rotateRight(r.parent.parent),r.parent.right===n&&(n=r.parent));else(null==(i=r.parent.parent.left)?void 0:i.isRed)?(r.parent.isRed=!1,i.isRed=!1,r.parent.parent.isRed=!0,r=r.parent.parent):(r.isLeftChild&&(r=r.parent,this.rotateRight(r),r.right===n&&(n=r),r=r.right),s.assert(r.parent),s.assert(r.parent.parent),r.parent.isRed=!1,r.parent.parent.isRed=!0,this.rotateLeft(r.parent.parent),r.parent.left===n&&(n=r.parent))}return this.isRed=!1,n},e.prototype.insert=function(t){return this.insertAndReturnNode(t),this},e.prototype.insertAndReturnNode=function(t){var r=o(this.findParentAndSideFor(t),2),n=r[0],i=r[1];s.assert(n instanceof e,"Mixed tree types");var a=new e(t,this.cmp).withParent(n);return a.isRed=!0,n[i]=a,this.insertFixup(a)},e.prototype.transplant=function(t,e){t.parent?t.isLeftChild?t.parent.left=null==e?void 0:e.withParent(t.parent):t.parent.right=null==e?void 0:e.withParent(t.parent):e&&(this.isRed=e.isRed,this.value=e.value,this.left=e.left,this.right=e.right,e.parent=t.parent)},e.prototype.deleteFixup=function(t,e){for(var r,n,i,o,a,l,u,c=t,f=e;c&&!(null===(r=c[f])||void 0===r?void 0:r.isRed);){var p;if("left"===f)(null==(p=c.right)?void 0:p.isRed)&&(p.isRed=!1,c.isRed=!0,this.rotateLeft(c),p=(c=c.left).right),s.assert(p),(null===(n=p.left)||void 0===n?void 0:n.isRed)||(null===(i=p.right)||void 0===i?void 0:i.isRed)?((null===(o=p.right)||void 0===o?void 0:o.isRed)||(p.left&&(p.left.isRed=!1),p.isRed=!0,this.rotateRight(p),p=c.right),s.assert(p),p.isRed=c.isRed,c.isRed=!1,p.right&&(p.right.isRed=!1),this.rotateLeft(c),c=void 0,this.isRed=!1):(p.isRed=!0,f=(null==c?void 0:c.isLeftChild)?"left":"right",c=c.parent);else(null==(p=c.left)?void 0:p.isRed)&&(p.isRed=!1,c.isRed=!0,this.rotateRight(c),p=(c=c.right).left),s.assert(p,"w must be defined"),(null===(a=p.right)||void 0===a?void 0:a.isRed)||(null===(l=p.left)||void 0===l?void 0:l.isRed)?((null===(u=p.left)||void 0===u?void 0:u.isRed)||(p.right&&(p.right.isRed=!1),p.isRed=!0,this.rotateLeft(p),p=c.left),s.assert(p),p.isRed=c.isRed,c.isRed=!1,p.left&&(p.left.isRed=!1),this.rotateRight(c),c=void 0,this.isRed=!1):(p.isRed=!0,f=c.isLeftChild?"left":"right",c=c.parent)}if(c){var h=c[f];h&&(h.isRed=!1)}else this.isRed=!1},e.prototype.remove=function(t){var r=this.search(t);if(!(r&&r instanceof e))return this;var n,i=r.left,o=r.right,a=r.isRed,s=r,l=s.isRed,u="left";if(i)if(o){if(l=(s=o.leftmostDescendant).isRed,n=s,u="right",s.parent===r){var c=n[u];c&&(c.parent=s)}else this.transplant(s,s.right),n=s.parent,u="left",s.right=o.withParent(s);this.transplant(r,s),r===this?(this.left=i.withParent(this),s.right&&(this.right=s.right.withParent(this)),this.isRed=a,n===s&&(n=this)):(s.left=i.withParent(s),s.isRed=a)}else n=r===this?void 0:r,u="left",this.transplant(r,i);else{if(n=r===this?void 0:r,u="right",!o&&!r.parent)return;o||(n=r.parent,u=r.isLeftChild?"left":"right"),this.transplant(r,o)}return l||this.deleteFixup(n,u),this},e}(a.BinarySearchTree);e.RBTree=l},function(t,e){t.exports=L},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(6),r(11),r(13)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(7),i=r(4);i.Timeline=i.GeoJSON.extend({times:null,ranges:null,initialize:function(t,e){var r=this;void 0===e&&(e={}),this.times=[],this.ranges=new n.IntervalTree;i.GeoJSON.prototype.initialize.call(this,null,e),i.Util.setOptions(this,{drawOnSetTime:!0}),i.Util.setOptions(this,e),this.options.getInterval&&(this._getInterval=function(t){return r.options.getInterval(t)}),t&&this._process(t)},_getInterval:function(t){return!!(t.properties&&"start"in t.properties&&"end"in t.properties)&&{start:new Date(t.properties.start).getTime(),end:new Date(t.properties.end).getTime()}},_process:function(t){var e=this,r=1/0,n=-1/0;t.features.forEach((function(t){var i=e._getInterval(t);i&&(e.ranges.insert(i.start,i.end,t),e.times.push(i.start),e.times.push(i.end),r=Math.min(r,i.start),n=Math.max(n,i.end))})),this.start=this.options.start||r,this.end=this.options.end||n,this.timeStart=this.start,this.timeEnd=this.end,0!==this.times.length&&(this.times.sort((function(t,e){return t-e})),this.times=this.times.reduce((function(t,e,r){return 0===r||t[t.length-1]!==e&&t.push(e),t}),[this.times[0]]))},setStartTime:function(t){this.timeStart="number"==typeof t?t:new Date(t).getTime(),this.options.drawOnSetTime&&this.updateDisplayedLayers(),this.fire("change")},setEndTime:function(t){this.timeEnd="number"==typeof t?t:new Date(t).getTime(),this.options.drawOnSetTime&&this.updateDisplayedLayers(),this.fire("change")},updateDisplayedLayers:function(){var t=this,e=this.ranges.overlap(this.timeStart,this.timeEnd),r=this.getLayers(),n=[];r.forEach((function(t){for(var r=!1,i=0;i<e.length;i++)if(t.feature===e[i]){r=!0,e.splice(i,1);break}r||n.push(t)})),n.forEach((function(e){return t.removeLayer(e)})),e.forEach((function(e){return t.addData(e)}))}}),i.timeline=function(t,e){return new i.Timeline(t,e)}},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(8)),n(r(9)),n(r(0)),n(r(1)),n(r(3)),n(r(10))},function(t,e,r){"use strict";var n=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function a(t,e){return e?[t.right,t.left]:[t.left,t.right]}Object.defineProperty(e,"__esModule",{value:!0}),e.inorder=function t(e,r){var s,l,u;return void 0===r&&(r=!1),n(this,(function(n){switch(n.label){case 0:return e.value?(s=i(a(e,r),2),l=s[0],u=s[1],l?[5,o(t(l,r))]:[3,2]):[2,void 0];case 1:n.sent(),n.label=2;case 2:return[4,e.value];case 3:return n.sent(),u?[5,o(t(u,r))]:[3,5];case 4:n.sent(),n.label=5;case 5:return[2]}}))},e.preorder=function t(e,r){var s,l,u;return void 0===r&&(r=!1),n(this,(function(n){switch(n.label){case 0:return e.value?(s=i(a(e,r),2),l=s[0],u=s[1],[4,e.value]):[2,void 0];case 1:return n.sent(),l?[5,o(t(l,r))]:[3,3];case 2:n.sent(),n.label=3;case 3:return u?[5,o(t(u,r))]:[3,5];case 4:n.sent(),n.label=5;case 5:return[2]}}))},e.postorder=function t(e,r){var s,l,u;return void 0===r&&(r=!1),n(this,(function(n){switch(n.label){case 0:return e.value?(s=i(a(e,r),2),l=s[0],u=s[1],l?[5,o(t(l,r))]:[3,2]):[2,void 0];case 1:n.sent(),n.label=2;case 2:return u?[5,o(t(u,r))]:[3,4];case 3:n.sent(),n.label=4;case 4:return[4,e.value];case 5:return n.sent(),[2]}}))}},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};function i(t){return Math.floor((t-1)/2)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=function(t,e){return t<e}),this.cmp=e,this.heap=t;for(var r=Math.floor(this.heap.length/2)-1;r>=0;r--)this.heapify(r)}return Object.defineProperty(t.prototype,"size",{get:function(){return this.heap.length},enumerable:!0,configurable:!0}),t.prototype.push=function(t){for(var e=this.heap.push(t)-1,r=!0;r;){var n=i(e);n>=0&&this.cmp(t,this.heap[n])?(this.swap(e,n),e=n):r=!1}return this.size},t.prototype.pop=function(){var t=this.heap.shift();if(void 0===t)return null;var e=this.heap.pop();return e&&(this.heap.unshift(e),this.heapify()),t},t.prototype.contains=function(t){return this.heap.indexOf(t)>=0},t.prototype.heapify=function(t){var e=this;void 0===t&&(t=0);var r,n=this.heap.length,i=t;(r=t,[2*r+1,2*r+2]).forEach((function(t){t<n&&e.cmp(e.heap[t],e.heap[i])&&(i=t)})),i!==t&&(this.swap(i,t),this.heapify(i))},t.prototype.swap=function(t,e){var r;r=n([this.heap[e],this.heap[t]],2),this.heap[t]=r[0],this.heap[e]=r[1]},t.prototype.findMin=function(){return this.heap[0]},t.prototype.findMax=function(){return this.heap[0]},t}();e.Heap=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3);function i(t){var e=t.value.high;return t.left&&(e=Math.max(e,t.left.value.max)),t.right&&(e=Math.max(e,t.right.value.max)),t.value.max=e,e}var o=function(){function t(t){void 0===t&&(t=function(t,e){return t===e}),this.eq=t,this._size=0,this.tree=void 0}return Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.insert=function(t,e,r){var o=this,a={low:t,high:e,value:r,max:e};if(this.tree){var s=this.tree.insertAndReturnNode(a);for(s.left&&i(s.left),s.right&&i(s.right),i(s);s.parent;)i(s.parent),s=s.parent}else this.tree=new n.RBTree(a,(function(t,e){return t.low<e.low}),(function(t,e){return t.low===e.low&&t.high===e.high&&o.eq(t.value,e.value)}));return this._size++,this},t.prototype.remove=function(t,e,r){return this.tree&&this.tree.remove({low:t,high:e,value:r,max:e}),this},t.prototype.lookup=function(t){if(!this.tree)return[];for(var e=[],r=[this.tree];r.length;){var n=r.pop();n&&(n.value.low<=t&&n.value.high>=t&&e.push(n.value.value),n.left&&n.left.value.max>=t&&r.push(n.left),n.right&&n.value.low<=t&&n.right.value.max>=t&&r.push(n.right))}return e},t.prototype.overlap=function(t,e){if(!this.tree)return[];for(var r=[],n=[this.tree];n.length;){var i=n.pop();i&&(t<=i.value.high&&e>=i.value.low&&r.push(i.value.value),i.left&&i.left.value.max>=t&&n.push(i.left),i.right&&i.right.value.max>=t&&n.push(i.right))}return r},t}();e.IntervalTree=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(12),i=r(4);i.TimelineSliderControl=i.Control.extend({initialize:function(t){void 0===t&&(t={});this.timelines=[],i.Util.setOptions(this,{formatOutput:function(t){return""+(t||"")},showTicks:!0,waitToUpdateMap:!1,position:"bottomleft"}),i.Util.setOptions(this,t),this.start=t.start||0,this.end=t.end||0},_getTimes:function(){var t=this,e=[];if(this.timelines.forEach((function(r){var n=r.times.filter((function(e){return e>=t.start&&e<=t.end}));e.push.apply(e,n)})),e.length){e.sort((function(t,e){return t-e}));var r=[e[0]];return e.reduce((function(t,e){return t!==e&&r.push(e),e})),r}return e},_recalculate:function(){var t=void 0!==this.options.start,e=void 0!==this.options.end,r=1/0,n=-1/0;this.timelines.forEach((function(t){t.start<r&&(r=t.start),t.end>n&&(n=t.end)})),t||(this.start=r,this._timeSlider.updateOptions({range:{min:r===1/0?0:r,max:this._timeSlider.options.range.max}}),this._timeSlider.set([r,null])),e||(this.end=n,this._timeSlider.updateOptions({range:{min:this._timeSlider.options.range.min,max:n===-1/0?0:n}}))},_nearestEventTime:function(t,e){void 0===e&&(e=1);for(var r=this._getTimes(),n=!1,i=r[0],o=1;o<r.length;o++){var a=r[o];if(n)return a;if(a>=t){if(-1===e)return i;if(a!==t)return a;n=!0}i=a}return i},_createDOM:function(){var t=i.DomUtil.create("div",["leaflet-control-layers","leaflet-control-layers-expanded","leaflet-timeline-control"].join(" "));this.container=t,this._makeSlider(t),this.options.showTicks&&this._buildDataList(t)},_addKeyListeners:function(){var t=this;this._listener=function(e){return t._onKeydown(e)},document.addEventListener("keydown",this._listener)},_removeKeyListeners:function(){document.removeEventListener("keydown",this._listener)},_buildDataList:function(t){this._rebuildDataList()},_rebuildDataList:function(){this._timeSlider.updateOptions({pips:{mode:"values",values:this._getTimes(),density:4}})},_disableMapDragging:function(){this.map.dragging.disable()},_enableMapDragging:function(){this.map.dragging.enable()},_makeSlider:function(t){var e=this,r=n.create(t,this.options.sliderOptions),i=this.options.sliderOptions.start;void 0===i&&(i=[-1/0]),"number"==typeof i&&(i=[i]),(i[0]>this.end||i[0]<this.start)&&(i[0]=0|this.start),2===i.length&&(i[1]>this.end||i[1]<this.start)&&(i[1]=0|this.end),r.updateOptions({start:i,range:{min:[this.start||0],max:[this.end||0]}}),this._timeSlider=r,this._timeSlider.on("update",(function(){return e._sliderChanged({type:"change",target:{valueMin:Number(e._timeSlider.get()[0]),valueMax:Number(e._timeSlider.get()[e._timeSlider.get().length-1])}})})),this._timeSlider.on("start",(function(){return e._disableMapDragging})),this._timeSlider.on("end",(function(){return e._enableMapDragging}))},_makeOutput:function(t){this._output=i.DomUtil.create("output","time-text",t),this._output.innerHTML=this.options.formatOutput(this.start)},_sliderChanged:function(t){var e=t.target;this.timeStart=e.valueMin,this.timeEnd=e.valueMax,this.options.waitToUpdateMap&&"change"!==t.type||(this.timelines.forEach((function(t){return t.setStartTime(e.valueMin)})),this.timelines.forEach((function(t){return t.setEndTime(e.valueMax)}))),this._output&&(this._output.innerHTML=this.options.formatOutput(e.valueMin).concat(" - ").concat(this.options.formatOutput(e.valueMax)))},_resetIfTimelinesChanged:function(t){this.timelines.length!==t&&(this._recalculate(),this.options.showTicks&&this._rebuildDataList(),this.setTime(this.start,this.end))},addTimelines:function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.timelines.length;e.forEach((function(e){-1===t.timelines.indexOf(e)&&t.timelines.push(e)})),this._resetIfTimelinesChanged(n)},removeTimelines:function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.timelines.length;e.forEach((function(e){var r=t.timelines.indexOf(e);-1!==r&&t.timelines.splice(r,1)})),this._resetIfTimelinesChanged(n)},setTime:function(t,e){this._timeSlider&&this._timeSlider.set([t,e]),this._sliderChanged({type:"change",target:{valueMin:t,valueMax:e}})},onAdd:function(t){return this.map=t,this._createDOM(),this.setTime(this.start,this.end),this.container},onRemove:function(){this._timeSlider.off("change"),this._timeSlider.off("start"),this._timeSlider.off("end"),i.DomEvent.off(document.body,"pointerup mouseup touchend",this._enableMapDragging,this),this._enableMapDragging()},syncControl:function(t){this.syncedControl||(this.syncedControl=[]),this.syncedControl.push(t)}}),i.timelineSliderControl=function(t){return new i.TimelineSliderControl(t)}},function(t,e,r){var n,i,o;/*! nouislider - 14.6.1 - 8/17/2020 */i=[],void 0===(o="function"==typeof(n=function(){"use strict";var t="14.6.1";function e(t){t.parentElement.removeChild(t)}function r(t){return null!=t}function n(t){t.preventDefault()}function i(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function o(t,e,r){r>0&&(u(t,e),setTimeout((function(){c(t,e)}),r))}function a(t){return Math.max(Math.min(t,100),0)}function s(t){return Array.isArray(t)?t:[t]}function l(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function u(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function c(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function f(t){var e=void 0!==window.pageXOffset,r="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:r?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:r?t.documentElement.scrollTop:t.body.scrollTop}}function p(t,e){return 100/(e-t)}function h(t,e,r){return 100*e/(t[r+1]-t[r])}function d(t,e){for(var r=1;t>=e[r];)r+=1;return r}function m(t,e,r){if(r>=t.slice(-1)[0])return 100;var n=d(r,t),i=t[n-1],o=t[n],a=e[n-1],s=e[n];return a+function(t,e){return h(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([i,o],r)/p(a,s)}function v(t,e,r,n){if(100===n)return n;var i=d(n,t),o=t[i-1],a=t[i];return r?n-o>(a-o)/2?a:o:e[i-1]?t[i-1]+function(t,e){return Math.round(t/e)*e}(n-t[i-1],e[i-1]):n}function g(t,e,r){var n;if("number"==typeof e&&(e=[e]),!Array.isArray(e))throw new Error("noUiSlider (14.6.1): 'range' contains invalid value.");if(!i(n="min"===t?0:"max"===t?100:parseFloat(t))||!i(e[0]))throw new Error("noUiSlider (14.6.1): 'range' value isn't numeric.");r.xPct.push(n),r.xVal.push(e[0]),n?r.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(r.xSteps[0]=e[1]),r.xHighestCompleteStep.push(0)}function b(t,e,r){if(e)if(r.xVal[t]!==r.xVal[t+1]){r.xSteps[t]=h([r.xVal[t],r.xVal[t+1]],e,0)/p(r.xPct[t],r.xPct[t+1]);var n=(r.xVal[t+1]-r.xVal[t])/r.xNumSteps[t],i=Math.ceil(Number(n.toFixed(3))-1),o=r.xVal[t]+r.xNumSteps[t]*i;r.xHighestCompleteStep[t]=o}else r.xSteps[t]=r.xHighestCompleteStep[t]=r.xVal[t]}function y(t,e,r){var n;this.xPct=[],this.xVal=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var i=[];for(n in t)t.hasOwnProperty(n)&&i.push([t[n],n]);for(i.length&&"object"==typeof i[0][0]?i.sort((function(t,e){return t[0][0]-e[0][0]})):i.sort((function(t,e){return t[0]-e[0]})),n=0;n<i.length;n++)g(i[n][1],i[n][0],this);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)b(n,this.xNumSteps[n],this)}y.prototype.getDistance=function(t){var e,r=[];for(e=0;e<this.xNumSteps.length-1;e++){var n=this.xNumSteps[e];if(n&&t/n%1!=0)throw new Error("noUiSlider (14.6.1): 'limit', 'margin' and 'padding' of "+this.xPct[e]+"% range must be divisible by step.");r[e]=h(this.xVal,t,e)}return r},y.prototype.getAbsoluteDistance=function(t,e,r){var n,i=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[i+1];)i++;else t===this.xPct[this.xPct.length-1]&&(i=this.xPct.length-2);r||t!==this.xPct[i+1]||i++;var o=1,a=e[i],s=0,l=0,u=0,c=0;for(n=r?(t-this.xPct[i])/(this.xPct[i+1]-this.xPct[i]):(this.xPct[i+1]-t)/(this.xPct[i+1]-this.xPct[i]);a>0;)s=this.xPct[i+1+c]-this.xPct[i+c],e[i+c]*o+100-100*n>100?(l=s*n,o=(a-100*n)/e[i+c],n=1):(l=e[i+c]*s/100*o,o=0),r?(u-=l,this.xPct.length+c>=1&&c--):(u+=l,this.xPct.length-c>=1&&c++),a=e[i+c]*o;return t+u},y.prototype.toStepping=function(t){return t=m(this.xVal,this.xPct,t)},y.prototype.fromStepping=function(t){return function(t,e,r){if(r>=100)return t.slice(-1)[0];var n=d(r,e),i=t[n-1],o=t[n],a=e[n-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([i,o],(r-a)*p(a,e[n]))}(this.xVal,this.xPct,t)},y.prototype.getStep=function(t){return t=v(this.xPct,this.xSteps,this.snap,t)},y.prototype.getDefaultStep=function(t,e,r){var n=d(t,this.xPct);return(100===t||e&&t===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},y.prototype.getNearbySteps=function(t){var e=d(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},y.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(l);return Math.max.apply(null,t)},y.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var x={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number},w={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"};function S(t){if(function(t){return"object"==typeof t&&"function"==typeof t.to&&"function"==typeof t.from}(t))return!0;throw new Error("noUiSlider (14.6.1): 'format' requires 'to' and 'from' methods.")}function _(t,e){if(!i(e))throw new Error("noUiSlider (14.6.1): 'step' is not numeric.");t.singleStep=e}function E(t,e){if(!i(e))throw new Error("noUiSlider (14.6.1): 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function P(t,e){if(!i(e))throw new Error("noUiSlider (14.6.1): 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function C(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider (14.6.1): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider (14.6.1): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider (14.6.1): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new y(e,t.snap,t.singleStep)}function R(t,e){if(e=s(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider (14.6.1): 'start' option is incorrect.");t.handles=e.length,t.start=e}function O(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.6.1): 'snap' option must be a boolean.")}function M(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.6.1): 'animate' option must be a boolean.")}function k(t,e){if(t.animationDuration=e,"number"!=typeof e)throw new Error("noUiSlider (14.6.1): 'animationDuration' option must be a number.")}function N(t,e){var r,n=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(r=1;r<t.handles;r++)n.push(e);n.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider (14.6.1): 'connect' option doesn't match handle count.");n=e}t.connect=n}function D(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider (14.6.1): 'orientation' option is invalid.")}}function T(t,e){if(!i(e))throw new Error("noUiSlider (14.6.1): 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function L(t,e){if(!i(e))throw new Error("noUiSlider (14.6.1): 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider (14.6.1): 'limit' option is only supported on linear sliders with 2 or more handles.")}function j(t,e){var r;if(!i(e)&&!Array.isArray(e))throw new Error("noUiSlider (14.6.1): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!i(e[0])&&!i(e[1]))throw new Error("noUiSlider (14.6.1): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],r=0;r<t.spectrum.xNumSteps.length-1;r++)if(t.padding[0][r]<0||t.padding[1][r]<0)throw new Error("noUiSlider (14.6.1): 'padding' option must be a positive number(s).");var n=e[0]+e[1],o=t.spectrum.xVal[0];if(n/(t.spectrum.xVal[t.spectrum.xVal.length-1]-o)>1)throw new Error("noUiSlider (14.6.1): 'padding' option must not exceed 100% of the range.")}}function A(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider (14.6.1): 'direction' option was not recognized.")}}function U(t,e){if("string"!=typeof e)throw new Error("noUiSlider (14.6.1): 'behaviour' must be a string containing options.");var r=e.indexOf("tap")>=0,n=e.indexOf("drag")>=0,i=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0,a=e.indexOf("hover")>=0,s=e.indexOf("unconstrained")>=0;if(i){if(2!==t.handles)throw new Error("noUiSlider (14.6.1): 'fixed' behaviour must be used with 2 handles");T(t,t.start[1]-t.start[0])}if(s&&(t.margin||t.limit))throw new Error("noUiSlider (14.6.1): 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:r||o,drag:n,fixed:i,snap:o,hover:a,unconstrained:s}}function V(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var r=0;r<t.handles;r++)t.tooltips.push(!0)}else{if(t.tooltips=s(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider (14.6.1): must pass a formatter for all handles.");t.tooltips.forEach((function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider (14.6.1): 'tooltips' must be passed a formatter or 'false'.")}))}}function z(t,e){t.ariaFormat=e,S(e)}function F(t,e){t.format=e,S(e)}function H(t,e){if(t.keyboardSupport=e,"boolean"!=typeof e)throw new Error("noUiSlider (14.6.1): 'keyboardSupport' option must be a boolean.")}function B(t,e){t.documentElement=e}function I(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider (14.6.1): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function q(t,e){if("object"!=typeof e)throw new Error("noUiSlider (14.6.1): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var r in t.cssClasses={},e)e.hasOwnProperty(r)&&(t.cssClasses[r]=t.cssPrefix+e[r]);else t.cssClasses=e}function X(t){var e={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:x,format:x},n={step:{r:!1,t:_},keyboardPageMultiplier:{r:!1,t:E},keyboardDefaultStep:{r:!1,t:P},start:{r:!0,t:R},connect:{r:!0,t:N},direction:{r:!0,t:A},snap:{r:!1,t:O},animate:{r:!1,t:M},animationDuration:{r:!1,t:k},range:{r:!0,t:C},orientation:{r:!1,t:D},margin:{r:!1,t:T},limit:{r:!1,t:L},padding:{r:!1,t:j},behaviour:{r:!0,t:U},ariaFormat:{r:!1,t:z},format:{r:!1,t:F},tooltips:{r:!1,t:V},keyboardSupport:{r:!0,t:H},documentElement:{r:!1,t:B},cssPrefix:{r:!0,t:I},cssClasses:{r:!0,t:q}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:w,keyboardPageMultiplier:5,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(n).forEach((function(o){if(!r(t[o])&&void 0===i[o]){if(n[o].r)throw new Error("noUiSlider (14.6.1): '"+o+"' is required.");return!0}n[o].t(e,r(t[o])?t[o]:i[o])})),e.pips=t.pips;var o=document.createElement("div"),a=void 0!==o.style.msTransform,s=void 0!==o.style.transform;return e.transformRule=s?"transform":a?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function J(t,r,i){var l,p,h,d,m,v,g,b,y=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},x=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),w=t,S=r.spectrum,_=[],E=[],P=[],C=0,R={},O=t.ownerDocument,M=r.documentElement||O.documentElement,k=O.body,N="rtl"===O.dir||1===r.ort?0:100;function D(t,e){var r=O.createElement("div");return e&&u(r,e),t.appendChild(r),r}function T(t,e){var n=D(t,r.cssClasses.origin),i=D(n,r.cssClasses.handle);return D(i,r.cssClasses.touchArea),i.setAttribute("data-handle",e),r.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",(function(t){return function(t,e){if(A()||U(e))return!1;var n=["Left","Right"],i=["Down","Up"],o=["PageDown","PageUp"],a=["Home","End"];r.dir&&!r.ort?n.reverse():r.ort&&!r.dir&&(i.reverse(),o.reverse());var s,l=t.key.replace("Arrow",""),u=l===o[0],c=l===o[1],f=l===i[0]||l===n[0]||u,p=l===i[1]||l===n[1]||c,h=l===a[0],d=l===a[1];if(!(f||p||h||d))return!0;if(t.preventDefault(),p||f){var m=r.keyboardPageMultiplier,v=f?0:1,g=pt(e)[v];if(null===g)return!1;!1===g&&(g=S.getDefaultStep(E[e],f,r.keyboardDefaultStep)),(c||u)&&(g*=m),g=Math.max(g,1e-7),g*=f?-1:1,s=_[e]+g}else s=d?r.spectrum.xVal[r.spectrum.xVal.length-1]:r.spectrum.xVal[0];return st(e,S.toStepping(s),!0,!0),et("slide",e),et("update",e),et("change",e),et("set",e),!1}(t,e)}))),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===e?u(i,r.cssClasses.handleLower):e===r.handles-1&&u(i,r.cssClasses.handleUpper),n}function L(t,e){return!!e&&D(t,r.cssClasses.connect)}function j(t,e){return!!r.tooltips[e]&&D(t.firstChild,r.cssClasses.tooltip)}function A(){return w.hasAttribute("disabled")}function U(t){return p[t].hasAttribute("disabled")}function V(){m&&(tt("update.tooltips"),m.forEach((function(t){t&&e(t)})),m=null)}function z(){V(),m=p.map(j),Z("update.tooltips",(function(t,e,n){if(m[e]){var i=t[e];!0!==r.tooltips[e]&&(i=r.tooltips[e].to(n[e])),m[e].innerHTML=i}}))}function F(t,e,n){var i=O.createElement("div"),o=[];o[0]=r.cssClasses.valueNormal,o[1]=r.cssClasses.valueLarge,o[2]=r.cssClasses.valueSub;var a=[];a[0]=r.cssClasses.markerNormal,a[1]=r.cssClasses.markerLarge,a[2]=r.cssClasses.markerSub;var s=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],l=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];function c(t,e){var n=e===r.cssClasses.value,i=n?o:a;return e+" "+(n?s:l)[r.ort]+" "+i[t]}return u(i,r.cssClasses.pips),u(i,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(t).forEach((function(o){!function(t,o,a){if(-1!==(a=e?e(o,a):a)){var s=D(i,!1);s.className=c(a,r.cssClasses.marker),s.style[r.style]=t+"%",a>0&&((s=D(i,!1)).className=c(a,r.cssClasses.value),s.setAttribute("data-value",o),s.style[r.style]=t+"%",s.innerHTML=n.to(o))}}(o,t[o][0],t[o][1])})),i}function H(){d&&(e(d),d=null)}function B(t){H();var e=t.mode,r=t.density||1,n=t.filter||!1,i=function(t,e,r){if("range"===t||"steps"===t)return S.xVal;if("count"===t){if(e<2)throw new Error("noUiSlider (14.6.1): 'values' (>= 2) required for mode 'count'.");var n=e-1,i=100/n;for(e=[];n--;)e[n]=n*i;e.push(100),t="positions"}return"positions"===t?e.map((function(t){return S.fromStepping(r?S.getStep(t):t)})):"values"===t?r?e.map((function(t){return S.fromStepping(S.getStep(S.toStepping(t)))})):e:void 0}(e,t.values||!1,t.stepped||!1),o=function(t,e,r){var n,i={},o=S.xVal[0],a=S.xVal[S.xVal.length-1],s=!1,l=!1,u=0;return n=r.slice().sort((function(t,e){return t-e})),(r=n.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==o&&(r.unshift(o),s=!0),r[r.length-1]!==a&&(r.push(a),l=!0),r.forEach((function(n,o){var a,c,f,p,h,d,m,v,g,b,y=n,x=r[o+1],w="steps"===e;if(w&&(a=S.xNumSteps[o]),a||(a=x-y),!1!==y)for(void 0===x&&(x=y),a=Math.max(a,1e-7),c=y;c<=x;c=(c+a).toFixed(7)/1){for(v=(h=(p=S.toStepping(c))-u)/t,b=h/(g=Math.round(v)),f=1;f<=g;f+=1)i[(d=u+f*b).toFixed(5)]=[S.fromStepping(d),0];m=r.indexOf(c)>-1?1:w?2:0,!o&&s&&c!==x&&(m=0),c===x&&l||(i[p.toFixed(5)]=[c,m]),u=p}})),i}(r,e,i),a=t.format||{to:Math.round};return d=w.appendChild(F(o,n,a))}function I(){var t=l.getBoundingClientRect(),e="offset"+["Width","Height"][r.ort];return 0===r.ort?t.width||l[e]:t.height||l[e]}function q(t,e,n,i){var o=function(o){return!!(o=function(t,e,r){var n,i,o=0===t.type.indexOf("touch"),a=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(s=!0),o){var l=function(t){return t.target===r||r.contains(t.target)||t.target.shadowRoot&&t.target.shadowRoot.contains(r)};if("touchstart"===t.type){var u=Array.prototype.filter.call(t.touches,l);if(u.length>1)return!1;n=u[0].pageX,i=u[0].pageY}else{var c=Array.prototype.find.call(t.changedTouches,l);if(!c)return!1;n=c.pageX,i=c.pageY}}return e=e||f(O),(a||s)&&(n=t.clientX+e.x,i=t.clientY+e.y),t.pageOffset=e,t.points=[n,i],t.cursor=a||s,t}(o,i.pageOffset,i.target||e))&&!(A()&&!i.doNotReject)&&(a=w,s=r.cssClasses.tap,!((a.classList?a.classList.contains(s):new RegExp("\\b"+s+"\\b").test(a.className))&&!i.doNotReject)&&!(t===y.start&&void 0!==o.buttons&&o.buttons>1)&&(!i.hover||!o.buttons)&&(x||o.preventDefault(),o.calcPoint=o.points[r.ort],void n(o,i)));var a,s},a=[];return t.split(" ").forEach((function(t){e.addEventListener(t,o,!!x&&{passive:!0}),a.push([t,o])})),a}function J(t){var e,n,i,o,s,u,c=100*(t-(e=l,n=r.ort,i=e.getBoundingClientRect(),o=e.ownerDocument,s=o.documentElement,u=f(o),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(u.x=0),n?i.top+u.y-s.clientTop:i.left+u.x-s.clientLeft))/I();return c=a(c),r.dir?100-c:c}function Y(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&K(t,e)}function G(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return K(t,e);var n=(r.dir?-1:1)*(t.calcPoint-e.startCalcPoint);it(n>0,100*n/e.baseSize,e.locations,e.handleNumbers)}function K(t,e){e.handle&&(c(e.handle,r.cssClasses.active),C-=1),e.listeners.forEach((function(t){M.removeEventListener(t[0],t[1])})),0===C&&(c(w,r.cssClasses.drag),at(),t.cursor&&(k.style.cursor="",k.removeEventListener("selectstart",n))),e.handleNumbers.forEach((function(t){et("change",t),et("set",t),et("end",t)}))}function W(t,e){if(e.handleNumbers.some(U))return!1;var i;1===e.handleNumbers.length&&(i=p[e.handleNumbers[0]].children[0],C+=1,u(i,r.cssClasses.active)),t.stopPropagation();var o=[],a=q(y.move,M,G,{target:t.target,handle:i,listeners:o,startCalcPoint:t.calcPoint,baseSize:I(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:E.slice()}),s=q(y.end,M,K,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers}),l=q("mouseout",M,Y,{target:t.target,handle:i,listeners:o,doNotReject:!0,handleNumbers:e.handleNumbers});o.push.apply(o,a.concat(s,l)),t.cursor&&(k.style.cursor=getComputedStyle(t.target).cursor,p.length>1&&u(w,r.cssClasses.drag),k.addEventListener("selectstart",n,!1)),e.handleNumbers.forEach((function(t){et("start",t)}))}function $(t){if(!t.buttons&&!t.touches)return!1;t.stopPropagation();var e=J(t.calcPoint),n=function(t){var e=100,r=!1;return p.forEach((function(n,i){if(!U(i)){var o=E[i],a=Math.abs(o-t);(a<e||a<=e&&t>o||100===a&&100===e)&&(r=i,e=a)}})),r}(e);if(!1===n)return!1;r.events.snap||o(w,r.cssClasses.tap,r.animationDuration),st(n,e,!0,!0),at(),et("slide",n,!0),et("update",n,!0),et("change",n,!0),et("set",n,!0),r.events.snap&&W(t,{handleNumbers:[n]})}function Q(t){var e=J(t.calcPoint),r=S.getStep(e),n=S.fromStepping(r);Object.keys(R).forEach((function(t){"hover"===t.split(".")[0]&&R[t].forEach((function(t){t.call(v,n)}))}))}function Z(t,e){R[t]=R[t]||[],R[t].push(e),"update"===t.split(".")[0]&&p.forEach((function(t,e){et("update",e)}))}function tt(t){var e=t&&t.split(".")[0],r=e&&t.substring(e.length);Object.keys(R).forEach((function(t){var n=t.split(".")[0],i=t.substring(n.length);e&&e!==n||r&&r!==i||delete R[t]}))}function et(t,e,n){Object.keys(R).forEach((function(i){var o=i.split(".")[0];t===o&&R[i].forEach((function(t){t.call(v,_.map(r.format.to),e,_.slice(),n||!1,E.slice(),v)}))}))}function rt(t,e,n,i,o,s){var l;return p.length>1&&!r.events.unconstrained&&(i&&e>0&&(l=S.getAbsoluteDistance(t[e-1],r.margin,0),n=Math.max(n,l)),o&&e<p.length-1&&(l=S.getAbsoluteDistance(t[e+1],r.margin,1),n=Math.min(n,l))),p.length>1&&r.limit&&(i&&e>0&&(l=S.getAbsoluteDistance(t[e-1],r.limit,0),n=Math.min(n,l)),o&&e<p.length-1&&(l=S.getAbsoluteDistance(t[e+1],r.limit,1),n=Math.max(n,l))),r.padding&&(0===e&&(l=S.getAbsoluteDistance(0,r.padding[0],0),n=Math.max(n,l)),e===p.length-1&&(l=S.getAbsoluteDistance(100,r.padding[1],1),n=Math.min(n,l))),!((n=a(n=S.getStep(n)))===t[e]&&!s)&&n}function nt(t,e){var n=r.ort;return(n?e:t)+", "+(n?t:e)}function it(t,e,r,n){var i=r.slice(),o=[!t,t],a=[t,!t];n=n.slice(),t&&n.reverse(),n.length>1?n.forEach((function(t,r){var n=rt(i,t,i[t]+e,o[r],a[r],!1);!1===n?e=0:(e=n-i[t],i[t]=n)})):o=a=[!0];var s=!1;n.forEach((function(t,n){s=st(t,r[t]+e,o[n],a[n])||s})),s&&n.forEach((function(t){et("update",t),et("slide",t)}))}function ot(t,e){return r.dir?100-t-e:t}function at(){P.forEach((function(t){var e=E[t]>50?-1:1,r=3+(p.length+e*t);p[t].style.zIndex=r}))}function st(t,e,n,i){return!1!==(e=rt(E,t,e,n,i,!1))&&(function(t,e){E[t]=e,_[t]=S.fromStepping(e);var n="translate("+nt(10*(ot(e,0)-N)+"%","0")+")";p[t].style[r.transformRule]=n,lt(t),lt(t+1)}(t,e),!0)}function lt(t){if(h[t]){var e=0,n=100;0!==t&&(e=E[t-1]),t!==h.length-1&&(n=E[t]);var i=n-e,o="translate("+nt(ot(e,i)+"%","0")+")",a="scale("+nt(i/100,"1")+")";h[t].style[r.transformRule]=o+" "+a}}function ut(t,e){return null===t||!1===t||void 0===t?E[e]:("number"==typeof t&&(t=String(t)),t=r.format.from(t),!1===(t=S.toStepping(t))||isNaN(t)?E[e]:t)}function ct(t,e){var n=s(t),i=void 0===E[0];e=void 0===e||!!e,r.animate&&!i&&o(w,r.cssClasses.tap,r.animationDuration),P.forEach((function(t){st(t,ut(n[t],t),!0,!1)}));for(var a=1===P.length?0:1;a<P.length;++a)P.forEach((function(t){st(t,E[t],!0,!0)}));at(),P.forEach((function(t){et("update",t),null!==n[t]&&e&&et("set",t)}))}function ft(){var t=_.map(r.format.to);return 1===t.length?t[0]:t}function pt(t){var e=E[t],n=S.getNearbySteps(e),i=_[t],o=n.thisStep.step,a=null;if(r.snap)return[i-n.stepBefore.startValue||null,n.stepAfter.startValue-i||null];!1!==o&&i+o>n.stepAfter.startValue&&(o=n.stepAfter.startValue-i),a=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===e?o=null:0===e&&(a=null);var s=S.countStepDecimals();return null!==o&&!1!==o&&(o=Number(o.toFixed(s))),null!==a&&!1!==a&&(a=Number(a.toFixed(s))),[a,o]}return u(g=w,r.cssClasses.target),0===r.dir?u(g,r.cssClasses.ltr):u(g,r.cssClasses.rtl),0===r.ort?u(g,r.cssClasses.horizontal):u(g,r.cssClasses.vertical),u(g,"rtl"===getComputedStyle(g).direction?r.cssClasses.textDirectionRtl:r.cssClasses.textDirectionLtr),l=D(g,r.cssClasses.base),function(t,e){var n=D(e,r.cssClasses.connects);p=[],(h=[]).push(L(n,t[0]));for(var i=0;i<r.handles;i++)p.push(T(e,i)),P[i]=i,h.push(L(n,t[i+1]))}(r.connect,l),(b=r.events).fixed||p.forEach((function(t,e){q(y.start,t.children[0],W,{handleNumbers:[e]})})),b.tap&&q(y.start,l,$,{}),b.hover&&q(y.move,l,Q,{hover:!0}),b.drag&&h.forEach((function(t,e){if(!1!==t&&0!==e&&e!==h.length-1){var n=p[e-1],i=p[e],o=[t];u(t,r.cssClasses.draggable),b.fixed&&(o.push(n.children[0]),o.push(i.children[0])),o.forEach((function(t){q(y.start,t,W,{handles:[n,i],handleNumbers:[e-1,e]})}))}})),ct(r.start),r.pips&&B(r.pips),r.tooltips&&z(),Z("update",(function(t,e,n,i,o){P.forEach((function(t){var e=p[t],i=rt(E,t,0,!0,!0,!0),a=rt(E,t,100,!0,!0,!0),s=o[t],l=r.ariaFormat.to(n[t]);i=S.fromStepping(i).toFixed(1),a=S.fromStepping(a).toFixed(1),s=S.fromStepping(s).toFixed(1),e.children[0].setAttribute("aria-valuemin",i),e.children[0].setAttribute("aria-valuemax",a),e.children[0].setAttribute("aria-valuenow",s),e.children[0].setAttribute("aria-valuetext",l)}))})),v={destroy:function(){for(var t in r.cssClasses)r.cssClasses.hasOwnProperty(t)&&c(w,r.cssClasses[t]);for(;w.firstChild;)w.removeChild(w.firstChild);delete w.noUiSlider},steps:function(){return P.map(pt)},on:Z,off:tt,get:ft,set:ct,setHandle:function(t,e,r){if(!((t=Number(t))>=0&&t<P.length))throw new Error("noUiSlider (14.6.1): invalid handle number, got: "+t);st(t,ut(e,t),!0,!0),et("update",t),r&&et("set",t)},reset:function(t){ct(r.start,t)},__moveHandles:function(t,e,r){it(t,e,E,r)},options:i,updateOptions:function(t,e){var n=ft(),o=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];o.forEach((function(e){void 0!==t[e]&&(i[e]=t[e])}));var a=X(i);o.forEach((function(e){void 0!==t[e]&&(r[e]=a[e])})),S=a.spectrum,r.margin=a.margin,r.limit=a.limit,r.padding=a.padding,r.pips?B(r.pips):H(),r.tooltips?z():V(),E=[],ct(t.start||n,e)},target:w,removePips:H,removeTooltips:V,getTooltips:function(){return m},getOrigins:function(){return p},pips:B}}return{__spectrum:y,version:t,cssClasses:w,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider (14.6.1): create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider (14.6.1): Slider was already initialized.");var r=J(t,X(e),e);return t.noUiSlider=r,r}}})?n.apply(e,i):n)||(t.exports=o)},function(t,e,r){var n=r(14),i=r(15);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};n(i,o);t.exports=i.locals||{}},function(t,e,r){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},o=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),a=[];function s(t){for(var e=-1,r=0;r<a.length;r++)if(a[r].identifier===t){e=r;break}return e}function l(t,e){for(var r={},n=[],i=0;i<t.length;i++){var o=t[i],l=e.base?o[0]+e.base:o[0],u=r[l]||0,c="".concat(l," ").concat(u);r[l]=u+1;var f=s(c),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(a[f].references++,a[f].updater(p)):a.push({identifier:c,updater:v(p,e),references:1}),n.push(c)}return n}function u(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,f=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function p(t,e,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=f(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e,r){var n=r.css,i=r.media,o=r.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var d=null,m=0;function v(t,e){var r,n,i;if(e.singleton){var o=m++;r=d||(d=u(e)),n=p.bind(null,r,o,!1),i=p.bind(null,r,o,!0)}else r=u(e),n=h.bind(null,r,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var r=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<r.length;n++){var i=s(r[n]);a[i].references--}for(var o=l(t,e),u=0;u<r.length;u++){var c=s(r[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}r=o}}}},function(t,e,r){(e=r(16)(!1)).push([t.i,'.leaflet-control.leaflet-timeline-control {\r\n  width: 96%;\r\n  box-sizing: border-box;\r\n  margin: 2%;\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n}\r\n.leaflet-control.leaflet-timeline-control * {\r\n  vertical-align: middle;\r\n}\r\n.leaflet-control.leaflet-timeline-control input[type="range"] {\r\n  width: 80%;\r\n}\r\n.leaflet-control.leaflet-timeline-control .sldr-ctrl-container {\r\n  float: left;\r\n  width: 15%;\r\n  box-sizing: border-box;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button {\r\n  position: relative;\r\n  width: 20%;\r\n  height: 20px;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button::before,\r\n.leaflet-control.leaflet-timeline-control .button-container button::after {\r\n  content: "";\r\n  position: absolute;\r\n}\r\n.leaflet-control.leaflet-timeline-control\r\n  .button-container\r\n  button.play::before {\r\n  border: 7px solid transparent;\r\n  border-width: 7px 0 7px 10px;\r\n  border-left-color: black;\r\n  margin-top: -7px;\r\n  background: transparent;\r\n  margin-left: -5px;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button.pause {\r\n  display: none;\r\n}\r\n.leaflet-control.leaflet-timeline-control\r\n  .button-container\r\n  button.pause::before {\r\n  width: 4px;\r\n  height: 14px;\r\n  border: 4px solid black;\r\n  border-width: 0 4px;\r\n  margin-top: -7px;\r\n  margin-left: -6px;\r\n  background: transparent;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button.prev::before,\r\n.leaflet-control.leaflet-timeline-control .button-container button.prev::after {\r\n  margin: -8px 0 0;\r\n  background: black;\r\n}\r\n.leaflet-control.leaflet-timeline-control\r\n  .button-container\r\n  button.prev::before {\r\n  width: 2px;\r\n  height: 14px;\r\n  margin-top: -7px;\r\n  margin-left: -7px;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button.prev::after {\r\n  border: 7px solid transparent;\r\n  border-width: 7px 10px 7px 0;\r\n  border-right-color: black;\r\n  margin-top: -7px;\r\n  margin-left: -5px;\r\n  background: transparent;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button.next::before,\r\n.leaflet-control.leaflet-timeline-control .button-container button.next::after {\r\n  margin: -8px 0 0;\r\n  background: black;\r\n}\r\n.leaflet-control.leaflet-timeline-control\r\n  .button-container\r\n  button.next::before {\r\n  width: 2px;\r\n  height: 14px;\r\n  margin-top: -7px;\r\n  margin-left: 5px;\r\n}\r\n.leaflet-control.leaflet-timeline-control .button-container button.next::after {\r\n  border: 7px solid transparent;\r\n  border-width: 7px 0 7px 10px;\r\n  border-left-color: black;\r\n  margin-top: -7px;\r\n  margin-left: -5px;\r\n  background: transparent;\r\n}\r\n.leaflet-control.leaflet-timeline-control.playing button.pause {\r\n  display: inline-block;\r\n}\r\n.leaflet-control.leaflet-timeline-control.playing button.play {\r\n  display: none;\r\n}\r\n',""]),t.exports=e},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(a=n,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),o=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[r].concat(o).concat([i]).join("\n")}var a,s,l;return[r].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);n&&i[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),e.push(l))}},e}}]);